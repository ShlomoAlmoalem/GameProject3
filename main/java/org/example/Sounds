package org.example;

import javax.sound.sampled.*;
import java.io.IOException;
import java.net.URL;

public class Sounds {

    private Clip lifeLostSound;
    private Clip goldenFruitSound;
    private Clip gameOverSound;
    private Clip rottenFruitSound;
    private Clip eatFruitSound; // סאונד חדש עבור אכילת פרי רגיל

    public Sounds() {
        loadSounds();
    }

    private void loadSounds() {
        try {
            lifeLostSound = loadSound("/sounds/lifeLost.wav");
            goldenFruitSound = loadSound("/sounds/Applegold.wav");
            gameOverSound = loadSound("/sounds/nesandstila.wav");
            rottenFruitSound = loadSound("/sounds/rottenFruit.wav");
            eatFruitSound = loadSound("/sounds/eatFruit.wav"); // טעינת הסאונד החדש
        } catch (Exception e) {
            System.err.println("Error loading sounds: " + e.getMessage());
            e.printStackTrace();
        }
    }

    private Clip loadSound(String soundFilePath) throws LineUnavailableException, IOException, UnsupportedAudioFileException {
        URL soundURL = getClass().getResource(soundFilePath);
        if (soundURL != null) {
            AudioInputStream audioInputStream = AudioSystem.getAudioInputStream(soundURL);
            Clip clip = AudioSystem.getClip();
            clip.open(audioInputStream);
            return clip;
        } else {
            System.err.println("Could not find sound file: " + soundFilePath);
            return null;
        }
    }

    public void playSound(Clip clip) {
        if (clip != null) {
            clip.setFramePosition(0); // Rewind to the beginning
            clip.start();
        }
    }

    public void playLifeLostSound() {
        playSound(lifeLostSound);
    }

    public void playGoldenFruitSound() {
        playSound(goldenFruitSound);
    }

    public void playGameOverSound() {
        playSound(gameOverSound);
    }

    public void playRottenFruitSound() {
        playSound(rottenFruitSound);
    }

    public void playEatFruitSound() {
        playSound(eatFruitSound);
    }
}